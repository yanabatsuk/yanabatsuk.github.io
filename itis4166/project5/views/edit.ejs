<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="icon" href="images/easeandedgelogo.png" type="images/png">
    <title>Easel &amp; Edge - Edit</title>
    <link rel="stylesheet" href="/styles/default.css">
</head>    
<body class="other-pages-background">

<%- include('partials/header.ejs') %>

    <main class="new-page-main">
        <div class="new-text-container">
            <h1>Edit at Easel &amp; Edge</h1>
            <p>Edit your items details!</p>
        </div>

        <div class="form-container">
            <!-- ADD action="#" later. -->
            <form method = "POST" action = "/items/<%= item.id %>?_method=PUT" enctype="multipart/form-data">

                <!-- condition drop down -->
                <label for="condition">Condition</label>
                <select id="condition" name="condition" required>
                    <option value="New" <%= (item.condition || '').toLowerCase() === 'new' ? 'selected' : '' %>>New</option>
                    <option value="Like New" <%= (item.condition || '').toLowerCase() === 'like-new' ? 'selected' : '' %>>Like New</option>
                    <option value="Excellent" <%= (item.condition || '').toLowerCase() === 'excellent' ? 'selected' : '' %>>Excellent</option>
                    <option value="Very Good" <%= (item.condition || '').toLowerCase() === 'very good' ? 'selected' : '' %>>Very Good</option>
                    <option value="Good" <%= (item.condition || '').toLowerCase() === 'good' ? 'selected' : '' %>>Good</option>
                    <option value="Fair" <%= (item.condition || '').toLowerCase() === 'fair' ? 'selected' : '' %>>Fair</option>
                    <option value="Poor" <%= (item.condition || '').toLowerCase() === 'poor' ? 'selected' : '' %>>Poor - Needs Restoration</option>
                    <option value="As Is" <%= (item.condition || '').toLowerCase() === 'as-is' ? 'selected' : '' %>>As-Is</option>
                </select>
    
                <!-- title input -->
                <label for="title">Title</label>
                <input type="text" id="title" name="title"  value="<%= item.title %>" required>
    
                <!-- price input -->
                <label for="price">Price ($)</label>
                <input type="number" id="price" name="price" required min="0" step="0.01" value="<%= item.price %>">
    
                <!-- details textarea-->
                <label for="details">Details</label>
                <textarea id="details" name="details" rows="5" required><%= item.details %></textarea>
                
                <!-- image upload -->
                <label for="image">Image</label>    
                <input type="file" id="image" name="image" accept="images/*">

                <input type="hidden" name="existingImage" value="<%= item.image %>">
    
                <button type="submit">Submit</button>    
            </form>
        </div>
    </main>
    <%- include('partials/footer.ejs')%>